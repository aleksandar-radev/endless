<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Endless</title>
    <link rel="stylesheet" href="/src/css/common.css" />
    <link rel="stylesheet" href="/src/css/style.css" />
    <link rel="stylesheet" href="/src/css/stats.css" />
    <link rel="stylesheet" href="/src/css/training.css" />
    <link rel="stylesheet" href="/src/css/crystalShop.css" />
    <link rel="stylesheet" href="/src/css/soulShop.css" />
    <link rel="stylesheet" href="/src/css/prestige.css" />
    <link rel="stylesheet" href="/src/css/inventory.css" />
    <link rel="stylesheet" href="/src/css/skillTree.css" />
    <link rel="stylesheet" href="/src/css/statistics.css" />
    <link rel="stylesheet" href="/src/css/region.css" />
    <link rel="stylesheet" href="/src/css/modal.css" />
    <link rel="stylesheet" href="/src/css/quests.css" />
    <link rel="stylesheet" href="/src/css/options.css" />
    <link rel="stylesheet" href="/src/css/building.css" />
    <link rel="stylesheet" href="/src/css/leaderboard.css" />
    <link rel="stylesheet" href="/src/css/battleLog.css" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L06KLWGC80"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag () {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-L06KLWGC80');
    </script>

    <script>
        // Only inject AdSense if not running in Electron
        const isElectron = navigator.userAgent.includes('Electron');
        if (!isElectron) {
            const adScript = document.createElement('script');
            adScript.async = true;
            adScript.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7168954765162007';
            adScript.crossOrigin = 'anonymous';
            document.head.appendChild(adScript);
        }
    </script>
</head>

<body>
    <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Open menu"><i class="mdi mdi-menu"></i></button>
    <div class="sidebar-backdrop" id="sidebar-backdrop"></div>
    <div class="game-container">
        <div class="sidebar">
            <div class="resource-bar">
                <div class="resource resource-gold"><span class="icon"><i class="mdi mdi-currency-usd"></i></span><span id="gold"></span></div>
                <div class="resource resource-crystal"><span class="icon"><i class="mdi mdi-diamond-stone"></i></span><span id="crystals"></span></div>
                <div class="resource resource-souls"><span class="icon"><i class="mdi mdi-ghost"></i></span><span id="souls"></span></div>
            </div>

            <div class="tab-buttons">
                <button class="tab-btn active" data-tab="stats" data-i18n="tab.stats">Stats</button>
                <button class="tab-btn" data-tab="training" data-i18n="tab.training">Training</button>
                <button class="tab-btn" data-tab="inventory" data-i18n="tab.inventory">Inventory</button>
                <button class="tab-btn" data-tab="skilltree" data-i18n="tab.skilltree">Skill Tree</button>
                <button class="tab-btn" data-tab="crystalShop" data-i18n="tab.crystalShop">Crystal Shop</button>
                <button class="tab-btn" data-tab="soulShop" data-i18n="tab.soulShop">Soul Shop</button>
                <button class="tab-btn" data-tab="quests" data-i18n="tab.quests">Quests</button>
                <button class="tab-btn" data-tab="statistics" data-i18n="tab.statistics">Statistics</button>
                <button class="tab-btn" data-tab="battleLog" data-i18n="tab.battleLog">Battle Log</button>
                <button class="tab-btn" data-tab="options" data-i18n="tab.options">Options</button>
                <button class="tab-btn" data-tab="buildings" data-i18n="tab.buildings">Buildings</button>
                <button class="tab-btn" data-tab="prestige" data-i18n="tab.prestige">Prestige</button>
                <!-- <button class="tab-btn" data-tab="leaderboard">Leaderboard</button> -->
            </div>
        </div>

        <div class="main-content">
            <div class="game-panel">
                <div id="stats" class="tab-panel active"></div>
                <div id="training" class="tab-panel"></div>
                <div id="crystalShop" class="tab-panel"></div>
                <div id="inventory" class="tab-panel"></div>
                <div id="skilltree" class="tab-panel"></div>
                <div id="soulShop" class="tab-panel"></div>
                <div id="prestige" class="tab-panel"></div>
                <div id="statistics" class="tab-panel"></div>
                <div id="battleLog" class="tab-panel"></div>
                <div id="options" class="tab-panel"></div>
                <div id="quests" class="tab-panel"></div>
                <div id="buildings" class="tab-panel"></div>
                <div id="leaderboard" class="tab-panel"></div>
            </div>

            <div class="combat-panel">
                <!-- Region Tabs -->
                <div class="region-tabs">
                    <button data-region="explore" class="region-tab active" data-i18n="region.explore">Explore</button>
                    <button data-region="arena" class="region-tab" data-i18n="region.arena">Arena</button>
                </div>
                <div class="character-info">
                    <div id="character-avatar"><i class="mdi mdi-shield"></i></div>
                    <div class="character-resources">
                        <div id="character-name"></div>
                        <div class="character-hp-mana">
                            <div class="xp-bar">
                                <div id="xp-fill" style="width: 0%"></div>
                                <div id="xp-text" class="xp-text">0/66</div>
                            </div>
                            <div class="life-bar">
                                <div id="life-fill"></div>
                                <div id="life-text" class="life-text">100/100</div>
                            </div>
                            <div class="mana-bar">
                                <div id="mana-fill" style="width: 100%"></div>
                                <div id="mana-text" class="mana-text">50/50</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="action-bar">
                    <div class="skill-slots">
                        <!-- Skills will be added dynamically -->
                    </div>
                </div>
                <div class="character-controls">
                    <button id="start-btn" data-i18n="combat.fight">Fight</button>
                    <div id="stage-display"><span class="stage-label" data-i18n="combat.stage">Stage</span>: <span
                            class="stage-value">1</span></div>
                </div>

                <div id="region-selector"></div>
                <div id="region-panel-container"></div>
                <div id="death-screen">
                    <div class="death-message">You died! Reviving in <span id="revive-countdown">10</span></div>
                </div>
            </div>
        </div>
    </div>

    <div id="tooltip" class="tooltip hidden"></div>

    <script type="module" src="/src/main.js"></script>
</body>

</html>